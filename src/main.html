<!DOCTYPE html>
<html lang="en">
<head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
        
    <title>&#x1F47A; Huggermuggery</title>
        
    <script lang=Javascript src=main.js async></script>    
    <link rel=stylesheet href=main.css>

</head>

<body>

    <div class="loadingBar">If you can see this message, then something probably went wrong.</div>
    <div class="flex">

        <!-- Sender section -->
        <div id="send" class="b1-gray">
            <h2>&#49;&#65039;&#8419; Send Files</h2>

            <div id="dropZone" class="ready">
                <div class="ready">
                    <i>Drop files here ...</i>                        
                    <a id="browseLink" href="#">or click here to browse for files</a>
                    <input id="fileInput" type="file" class="hidden" multiple>
                </div>

                <div class="waiting">
                    <i>Please wait ...</i>
                </div>
            </div>
            
            <div id="fileSendQueue" class="box">
                <h2>&#50;&#65039;&#8419; File Send Queue</h2>
                <div>The queue is currently empty.</div>            
                <button type="button" id="copyAllButton">&#x1f4cb; Copy all to Clipboard</button>

                <div id="clipboardBufferOverflowError">
                    <b>A problem has occurred:</b><br/>
                    Your file blob is larger than you clipboard buffer size setting.<br/>
                    You may experience a problem when you paste your blob into the Receiver.<br/>
                </div>
            </div>
            
            <div class="box">
                <h2>Settings</h2>
                <p>
                    <label class="pointer">
                        <input type="checkbox" id="showPasteable" />Show JavaScript Pasteables
                    </label> - JS code that can be pasted and executed in the browser's JS console to transfer a file without using the Receiver
                </p>
                <p>
                    <label for="clipboardBufferSize">Clipboard Buffer Size:</label>
                    <input type="text" id="clipboardBufferSize" placeholder="Unlimited"/>
                    <span class="validationError">Value must be a number.</span>
                </p>
            </div>

        </div>

        <!-- Receiver section -->
        <div id="receive" class="b1-gray">
            <h2>&#51;&#65039;&#8419; Receive Files</h2>

            <textarea id="pasteToBox" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>
            <div id="fileReceiveQueue" class="box">
                <h2>&#52;&#65039;&#8419; Received Files</h2>
                <div id="fileReceiveList">No files have been received.</div>
                <button type="button" id="saveAllFiles" disabled>&#x1f4be; Save all Files</button>
                &nbsp;<button type="button" id="clearFiles" disabled>Clear</button>
                
                <div id="fileReceiveError">
                    <b>A problem has occurred:</b><br/>
                    One or more of your files failed to transfer.<br/>
                    This probably occurred because your text clipboard buffer is too small to hold all the files at once.<br/>
                    Your clipboard buffer size is estimated to be <b><span id="bufferSizeSpan"></span></b> characters.<br/>
                    <br/>
                    <b>To resolve:</b> Try Sending one file at a time using the [Copy Single File] button.<br/>
                </div>
            </div>
            
            <div id="errorMessage">
                <h2>Error</h2>
                <div></div>
            </div>

        </div>

    </div>    

    <!--cut-->
    <div id="footer" class="bg-green b1-gray mt1 footer">
        <ul>
            <li>
                <a href="readme.html">readme</a>
            </li>
            <li>
                <a href="https://drboring.com">made by Walter Stabosz</a>
            </li>
            <li>
                <a href="https://github.com/wstabosz/hugger-muggery">source code</a>
            </li>
        </ul>
        
    </div>
    <!--cut-->
</body>

</html>